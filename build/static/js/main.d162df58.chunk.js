(this.webpackJsonprecordvoice=this.webpackJsonprecordvoice||[]).push([[0],{46:function(e,c,t){},49:function(e,c,t){},50:function(e,c,t){},51:function(e,c,t){},55:function(e,c,t){},56:function(e,c,t){},57:function(e,c,t){},58:function(e,c,t){},59:function(e,c,t){},60:function(e,c,t){"use strict";t.r(c);var a=t(4),n=t.n(a),r=t(21),s=t.n(r),o=t(12),i=t(22),d=t(13),l=t.n(d),j=t(17),u=t(19),b=(t(41),t(42),t(28));t.n(b).a.config();u.a.initializeApp({apiKey:"AIzaSyCXvONMFsResbCKexp36LPf9Inmxc6Pazc",authDomain:"record-voice-ac19c.firebaseapp.com",projectId:"record-voice-ac19c",storageBucket:"record-voice-ac19c.appspot.com",messagingSenderId:"834034852145",appId:"1:834034852145:web:cd5ce84d9a347004a11010"});var O=u.a.auth(),h=new u.a.auth.GoogleAuthProvider,x=function(){O.signInWithPopup(h).then((function(e){console.log(e.user),window.location.reload(!1)})).catch((function(e){console.log(e.message)}))},p=function(){O.signOut().then((function(){console.log("logged out"),window.location.reload(!1)})).catch((function(e){console.log(e.message)}))},m=t(18),v=t(2),f=Object(a.createContext)({user:null});function N(e){var c=Object(a.useState)(null),t=Object(m.a)(c,2),n=t[0],r=t[1];return Object(a.useMemo)((function(){O.onAuthStateChanged(function(){var e=Object(j.a)(l.a.mark((function e(c){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c&&(t=c.displayName,a=c.email,r({displayName:t,email:a}));case 1:case"end":return e.stop()}}),e)})));return function(c){return e.apply(this,arguments)}}())}),[]),Object(v.jsx)(f.Provider,{value:n,children:e.children})}t(46);function g(){var e=Object(a.useContext)(f);return Object(v.jsxs)("div",{className:"google-auth",children:[e?Object(v.jsxs)("span",{children:["Sign in as: ",Object(v.jsx)("b",{children:e.displayName})]}):Object(v.jsx)("b",{children:"To store your records, please"}),e?Object(v.jsxs)("button",{className:"logout-button",onClick:p,children:[Object(v.jsx)("b",{className:"google-logo",children:"G"}),Object(v.jsx)("span",{children:"logout"})]}):Object(v.jsxs)("button",{className:"login-provider-button",onClick:x,children:[Object(v.jsx)("b",{className:"google-logo",children:"G"}),Object(v.jsx)("span",{children:" Continue with Google"})]})]})}var w=t(10),S=t(11);t(49);function C(){return Object(v.jsx)("header",{children:Object(v.jsxs)("div",{className:"container",children:[Object(v.jsxs)("h1",{className:"brand-logo",children:[Object(v.jsx)(w.a,{icon:S.d})," ",Object(v.jsx)("span",{children:"Voice"})]}),Object(v.jsx)(g,{})]})})}var R,y,_=t(30),k={isRecord:!1,isClock:!1,isRecordStopped:!1},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case"ISRECORD":return Object(o.a)(Object(o.a)({},e),{},{isRecord:c.isRecord});case"ISCLOCK":return Object(o.a)(Object(o.a)({},e),{},{isClock:c.isClock});case"ISRECORDSTOPPED":return Object(o.a)(Object(o.a)({},e),{},{isRecordStopped:c.isRecordStopped});default:return e}},I=Object(_.a)(E,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());function A(e){return I.dispatch(function(e){return{type:"ISRECORD",isRecord:e}}(e))}function D(e){return I.dispatch(function(e){return{type:"ISCLOCK",isClock:e}}(e))}function P(e){return I.dispatch(function(e){return{type:"ISRECORDSTOPPED",isRecordStopped:e}}(e))}var T=function(){var e=[];y="",navigator.mediaDevices.getUserMedia({audio:!0}).then((function(c){A(!0),D(!0),R=new MediaRecorder(c);var t=document.querySelector("#recordedAudio"),a=document.querySelector("#recordPreview");t.removeAttribute("src"),t.removeAttribute("controls"),a.innerHTML="",R.ondataavailable=function(c){if(e.push(c.data),"inactive"===R.state){var n=new Blob(e,{type:"audio/webm  codecs=vp9"});y=n,t.src=URL.createObjectURL(n),t.controls=!0,t.autoplay=!1,a.innerText="Preview"}},R.start()})).catch((function(e){return console.log(e)}))},L=function(){A(!1),P(!0),D(!1),R.stop()},V=function(){P(!1);var e,c=document.querySelector("#recordedAudio"),t=document.querySelector("#recordPreview");c.removeAttribute("src"),c.removeAttribute("controls"),t.innerHTML="",e=y,O.onAuthStateChanged(function(){var c=Object(j.a)(l.a.mark((function c(t){var a,n,r,s,o;return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:t?(a=t.email,n=a.replace("@gmail.com",""),r=Date.now(),s=u.a.storage().ref().child("voices/".concat(n,"/").concat(r,".webm")),o={contentType:"audio/webm"},s.put(e,o).then((function(e){console.log("Uploaded a blob or file!")}))):console.log("Sign in required to store the file!");case 1:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}())};function z(){return Object(v.jsxs)("div",{className:"time-spinner",children:[Object(v.jsx)("span",{children:(c=0,c<10?"0".concat(c):c)}),Object(v.jsx)("span",{className:"clock-colon",children:":"}),Object(v.jsx)("span",{children:(e=0,e<10?"0".concat(e):e)})]});var e,c}t(50);function M(){return Object(v.jsxs)("div",{id:"bars",children:[Object(v.jsx)("div",{className:"bar"}),Object(v.jsx)("div",{className:"bar"}),Object(v.jsx)("div",{className:"bar"}),Object(v.jsx)("div",{className:"bar"}),Object(v.jsx)("div",{className:"bar"}),Object(v.jsx)("div",{className:"bar"}),Object(v.jsx)("div",{className:"bar"}),Object(v.jsx)("div",{className:"bar"}),Object(v.jsx)("div",{className:"bar"}),Object(v.jsx)("div",{className:"bar"})]})}t(51);function U(){var e=Object(a.useContext)(f),c=I.getState(),t=c.isRecord,n=c.isRecordStopped;return Object(v.jsxs)("div",{className:"recorder",children:[Object(v.jsx)("div",{className:"recorder-animation",children:t?Object(v.jsx)(M,{}):""}),Object(v.jsx)("div",{className:"recorder-timer",children:Object(v.jsx)(z,{})}),t?Object(v.jsx)("div",{className:"recorder-controllers",children:Object(v.jsx)("button",{id:"stop_record",className:"stop-record",onClick:L,children:Object(v.jsx)(w.a,{icon:S.e,size:"2x",color:"white"})})}):Object(v.jsxs)("div",{className:"recorder-controllers",children:[Object(v.jsx)("button",{id:"start_video",className:"start-video disable",children:Object(v.jsx)(w.a,{icon:S.f,size:"2x"})}),Object(v.jsx)("button",{id:"start_record",className:"start-record",onClick:T,children:Object(v.jsx)(w.a,{icon:S.c,size:"2x",color:"white"})}),e&&n&&Object(v.jsx)("button",{id:"upload_record",className:"file-upload",onClick:V,children:Object(v.jsx)(w.a,{icon:S.b,size:"2x",color:"white"})})]}),e?"":Object(v.jsx)("div",{className:"guest-msg",children:Object(v.jsx)("p",{children:"You can check now! Try your self!!!"})}),Object(v.jsxs)("div",{className:"recorded-audio",children:[Object(v.jsx)("span",{id:"recordPreview"}),Object(v.jsx)("audio",{id:"recordedAudio",preload:"true"})]})]})}var F=t(29);t(55);function q(){var e=Object(a.useContext)(f),c=Object(a.useState)(-1),t=Object(m.a)(c,2),r=t[0],s=t[1],o=Object(a.useState)([]),i=Object(m.a)(o,2),d=i[0],l=i[1];Object(a.useEffect)((function(){if(e){var c=e.email.replace("@gmail.com",""),t=F.a.storage().ref(),a=[];t.child("voices/".concat(c,"/")).listAll().then((function(e){e.items.forEach((function(e){e.getDownloadURL().then((function(c){var t={source:c,format:e.name,createdAt:e.name.split(".")[0],controls:!0};a.push(t)}))})),setTimeout((function(){l(a)}),2e3)})).catch((function(e){console.log(e)}))}}),[e]);var j=function(e){s(e===r?-1:e)};return Object(v.jsx)("div",{className:"records-list",children:Object(v.jsxs)("ul",{children:[Object(v.jsxs)("li",{onClick:function(){return j(0)},className:0===r?"active":"",children:[Object(v.jsxs)("div",{className:"accordian-title",children:[Object(v.jsx)(w.a,{icon:S.a}),e?Object(v.jsx)("span",{children:"Audio Files:"}):Object(v.jsx)("span",{className:"data-loader"})]}),Object(v.jsx)("div",{className:"accordian-content",children:e?Object(v.jsx)(K,{files:d}):Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)("div",{className:"data-loader data-loader_audio"}),Object(v.jsx)("div",{className:"data-loader data-loader_audio"})]})})]},0),Object(v.jsxs)("li",{onClick:function(){return j(1)},className:1===r?"active":"",children:[Object(v.jsxs)("div",{className:"accordian-title",children:[Object(v.jsx)(w.a,{icon:S.a}),e?Object(v.jsx)("span",{children:"Video Files:"}):Object(v.jsx)("span",{className:"data-loader"})]}),Object(v.jsx)("div",{className:"accordian-content",children:e?Object(v.jsx)("p",{children:"Not available! In progress feature."}):Object(v.jsxs)(n.a.Fragment,{children:[Object(v.jsx)("div",{className:"data-loader data-loader_audio"}),Object(v.jsx)("div",{className:"data-loader data-loader_audio"})]})})]},1)]})})}var K=function(e){return e.files.map((function(e,c){return Object(v.jsxs)("div",{className:"audioFile-wrapper",children:[Object(v.jsx)("audio",{preload:"true",src:e.source,controls:e.controls}),Object(v.jsx)("span",{children:"".concat(new Date(parseInt(e.createdAt)).toLocaleString())})]},c)}))};t(56);function X(){return Object(v.jsxs)("div",{className:"container recordvoice-wrapper",children:[Object(v.jsx)(U,{}),Object(v.jsx)(q,{})]})}t(57);function B(){return Object(v.jsx)("footer",{children:Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("p",{children:["Build with LOVE ",Object(v.jsx)("b",{children:"Vulchi Vijaya Kumar"}),". RecordVoice \xa9 2021."]})})})}t(58);var G=Object(i.b)((function(e){return Object(o.a)({},e)}),(function(e){return{dispatch:e}}))((function(){return Object(v.jsxs)("div",{className:"app-wrapper",children:[Object(v.jsx)(C,{}),Object(v.jsx)(X,{}),Object(v.jsx)(B,{})]})}));t(59);window.store=I,s.a.render(Object(v.jsx)(i.a,{store:I,children:Object(v.jsx)(N,{children:Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(G,{})})})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.d162df58.chunk.js.map