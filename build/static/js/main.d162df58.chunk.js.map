{"version":3,"sources":["config/firebase.js","providers/index.js","components/googleSignin/index.js","components/header/index.js","controllers/recordaudio.js","redux/reducers.js","redux/store.js","redux/actions.js","components/timespinner/index.js","utils/time.js","components/recorder/waves.js","components/recorder/index.js","components/recordlist/index.js","components/recordvoice/index.js","components/footer/index.js","App.js","index.js"],"names":["dotenv","config","firebase","initializeApp","apiKey","process","authDomain","projectId","storageBucket","messagingSenderId","appId","auth","googleProvider","GoogleAuthProvider","signInWithGoogle","signInWithPopup","then","res","console","log","user","window","location","reload","catch","error","message","logOut","signOut","UserContext","createContext","Provider","props","useState","setuser","useMemo","onAuthStateChanged","a","displayName","email","value","children","GoogleAuth","useContext","className","onClick","Header","icon","faMicrophoneAlt","rec","uploadBlob","initialState","isRecord","isClock","isRecordStopped","reducer","state","action","type","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","RecordStartStop","payload","dispatch","Recorder","ClockStartStop","Clock","RecordingStopped","RecordStopped","RecordStart","audioChunks","navigator","mediaDevices","getUserMedia","audio","stream","MediaRecorder","recordedAudio","document","querySelector","recordPreviewLabel","removeAttribute","innerHTML","ondataavailable","e","push","data","blob","Blob","src","URL","createObjectURL","controls","autoplay","innerText","start","RecordStop","stop","RecordUpload","userFolder","replace","createdAt","Date","now","ref","storage","child","metadata","contentType","put","snapshot","TimeSpinner","minutes","seconds","Waves","id","getState","faStopCircle","size","color","faVideo","faMicrophone","faFileUpload","preload","RecordList","active","setActive","audioFiles","setAudioFiles","useEffect","storageRef","temp","listAll","items","forEach","files","getDownloadURL","url","item","source","format","name","split","setTimeout","accordianToggle","index","faChevronRight","Fragment","ListAudioFiles","map","parseInt","toLocaleString","RecordVoiceView","Footer","connect","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d162df58.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport \"firebase/auth\";\r\nimport \"firebase/storage\";\r\nimport dotenv from 'dotenv';\r\ndotenv.config();\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n  apiKey: process.env.REACT_APP_API_KEY,\r\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\r\n  projectId: process.env.REACT_APP_PROJECT_ID,\r\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\r\n  appId: process.env.REACT_APP_APP_ID\r\n};\r\n\r\n// Initialize Firebase\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = firebase.auth();\r\nconst googleProvider = new firebase.auth.GoogleAuthProvider();\r\n\r\nexport const signInWithGoogle = () => {\r\n  auth.signInWithPopup(googleProvider).then((res) => {\r\n    console.log(res.user);\r\n    window.location.reload(false);\r\n  }).catch((error) => {\r\n    console.log(error.message);\r\n  })\r\n}\r\n\r\nexport const logOut = () => {\r\n  auth.signOut().then(()=> {\r\n    console.log('logged out');\r\n    window.location.reload(false);\r\n  }).catch((error) => {\r\n    console.log(error.message);\r\n  })\r\n}\r\n\r\n// File upload\r\nexport const uploadFile = (blob) => {\r\n  auth.onAuthStateChanged(async (user) => {\r\n    if (user) {\r\n      const { email }  = user;\r\n      const userFolder = email.replace(\"@gmail.com\", \"\");\r\n      const createdAt = Date.now();\r\n      const ref = firebase.storage().ref().child(`voices/${userFolder}/${createdAt}.webm`);\r\n    \r\n      // [START storage_upload_metadata]\r\n      // Create file metadata including the content type\r\n      var metadata = {\r\n        contentType: 'audio/webm',\r\n      };\r\n    \r\n      // [START storage_upload_blob]\r\n      // 'file' comes from the Blob or File API\r\n      ref.put(blob, metadata).then((snapshot) => {\r\n        console.log('Uploaded a blob or file!');\r\n      });\r\n      // [END storage_upload_blob]\r\n    }\r\n    else {\r\n      console.log(\"Sign in required to store the file!\");\r\n    }\r\n  });\r\n}\r\n\r\n// Load user based audio files\r\nexport const getAudioFiles = () => {\r\n  auth.onAuthStateChanged(async (user) => {\r\n  });\r\n}\r\n\r\n// useEffect(() => {\r\n//   if (user) {\r\n//     const userFolder = user.email.replace(\"@gmail.com\", \"\");\r\n//     console.log(\"user: \", userFolder);\r\n//     let storageRef = firebase.storage().ref();\r\n//     let temp = [];\r\n//     storageRef\r\n//       .child(`voices/${userFolder}/`)\r\n//       .listAll()\r\n//       .then(function(res) {\r\n//         res.items.forEach( (files, index) => {\r\n//           files.getDownloadURL().then(url => {\r\n//             temp.push(url);\r\n//           });\r\n//         });\r\n//         // setAudioFiles([...temp]);\r\n//         console.log(\"temp: \", temp);\r\n//       })\r\n//       .catch(function(error) {\r\n//         console.log(error);\r\n//       });\r\n//     }\r\n// }, []);\r\n\r\n\r\n// Get audio files based on signed in user.\r\n// export const getAudios = () => {\r\n//   auth.onAuthStateChanged(async (user) => {\r\n//     if (user) {\r\n//       //1.\r\n//       let storageRef = firebase.storage().ref();\r\n//       //2.\r\n//       storageRef\r\n//         .listAll()\r\n//         .then(function(res) {\r\n//           console.log('res: ', res);\r\n//           //3.\r\n//           res.items.forEach(imageRef => {\r\n//             imageRef.getDownloadURL().then(url => {\r\n//               //4.\r\n//               setImages(allImages => [...allImages, url]);\r\n//             });\r\n//           });\r\n//         })\r\n//         .catch(function(error) {\r\n//           console.log(error);\r\n//         });\r\n//     }\r\n//   });\r\n// };\r\n\r\n// Delete audio files based on signed in user.\r\n// const deleteFromFirebase = url => {\r\n//   //1.\r\n//   let pictureRef = storage.refFromURL(url);\r\n//   //2.\r\n//   pictureRef\r\n//     .delete()\r\n//     .then(() => {\r\n//       //3.\r\n//       setImages(allImages.filter(image => image !== url));\r\n//       alert('Picture is deleted successfully!');\r\n//     })\r\n//     .catch(err => {\r\n//       console.log(err);\r\n//     });\r\n// };","import React, {useState, useMemo,  createContext} from \"react\";\r\nimport { auth } from \"./../config/firebase\";\r\nexport const UserContext = createContext({user: null})\r\n\r\nexport default function Provider (props) {\r\n  const [user, setuser] = useState(null);\r\n\r\n  useMemo(() => {\r\n    auth.onAuthStateChanged(async (user) => {\r\n      if (user) {\r\n        const { displayName, email }  = user;\r\n        setuser({\r\n          displayName,\r\n          email\r\n        });\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <UserContext.Provider value={user}>{props.children}</UserContext.Provider>\r\n  )\r\n}","import React, { useContext } from 'react';\r\nimport { signInWithGoogle, logOut } from \"./../../config/firebase\";\r\nimport { UserContext } from './../../providers/index';\r\n\r\nimport './index.css';\r\n\r\nexport default function GoogleAuth() {\r\n  const user = useContext(UserContext);\r\n\r\n  return (\r\n      <div className=\"google-auth\">\r\n        { user ? <span>Sign in as: <b>{ user.displayName }</b></span> : <b>To store your records, please</b> }\r\n        { user ?\r\n          <button className=\"logout-button\" onClick={logOut}>\r\n            <b className=\"google-logo\">G</b>\r\n            <span>logout</span>\r\n          </button>\r\n          :\r\n          <button className=\"login-provider-button\" onClick={signInWithGoogle}>\r\n            <b className=\"google-logo\">G</b>\r\n            <span> Continue with Google</span>\r\n          </button>\r\n        }\r\n      </div>\r\n  );\r\n}","import React from 'react';\r\nimport GoogleAuth from './../googleSignin/index';\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMicrophoneAlt } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport './index.css';\r\n\r\nexport default function Header () {\r\n  return (\r\n    <header>\r\n      <div className=\"container\">\r\n        <h1 className=\"brand-logo\"><FontAwesomeIcon icon={faMicrophoneAlt} /> <span>Voice</span></h1>\r\n        <GoogleAuth />\r\n      </div>\r\n    </header>\r\n  )\r\n}","import { RecordStartStop, ClockStartStop, RecordingStopped } from './../redux/actions';\r\nimport { uploadFile } from './../config/firebase';\r\n\r\nlet rec;\r\nlet uploadBlob;\r\n\r\nexport const RecordStart = () => {\r\n  let audioChunks = [];\r\n  uploadBlob = '';\r\n  navigator.mediaDevices.getUserMedia( { audio : true } )\r\n    .then(stream => {\r\n      RecordStartStop(true);\r\n      ClockStartStop(true);\r\n      rec = new MediaRecorder(stream);\r\n      let recordedAudio = document.querySelector('#recordedAudio');\r\n      let recordPreviewLabel = document.querySelector('#recordPreview');\r\n      recordedAudio.removeAttribute('src');\r\n      recordedAudio.removeAttribute('controls');\r\n      recordPreviewLabel.innerHTML = \"\";\r\n      rec.ondataavailable = e => {\r\n        audioChunks.push(e.data);\r\n        if (rec.state === \"inactive\") {\r\n          let blob = new Blob(audioChunks, {type: 'audio/webm  codecs=vp9'});\r\n          uploadBlob = blob;\r\n          recordedAudio.src = URL.createObjectURL(blob);\r\n          recordedAudio.controls = true;\r\n          recordedAudio.autoplay = false;\r\n          recordPreviewLabel.innerText = 'Preview';\r\n        }\r\n      }\r\n      rec.start();\r\n    })\r\n    .catch( e => console.log(e) );\r\n}\r\n\r\nexport const RecordStop = () => {\r\n  RecordStartStop(false)\r\n  RecordingStopped(true);\r\n  ClockStartStop(false);\r\n  rec.stop();\r\n}\r\n\r\nexport const RecordUpload = () => {\r\n  RecordingStopped(false);\r\n  let recordedAudio = document.querySelector('#recordedAudio');\r\n  let recordPreviewLabel = document.querySelector('#recordPreview');\r\n  recordedAudio.removeAttribute('src');\r\n  recordedAudio.removeAttribute('controls');\r\n  recordPreviewLabel.innerHTML = \"\";\r\n  uploadFile(uploadBlob);\r\n}","const initialState = {\r\n  isRecord: false,\r\n  isClock: false,\r\n  isRecordStopped: false,\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"ISRECORD\":\r\n      return {...state, isRecord : action.isRecord }\r\n    case \"ISCLOCK\":\r\n      return {...state, isClock : action.isClock }\r\n    case \"ISRECORDSTOPPED\":\r\n      return {...state, isRecordStopped : action.isRecordStopped }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default reducer;","import { createStore } from 'redux';\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n)\r\n\r\nexport default store;","import store from \"./store\"\r\n\r\nexport function RecordStartStop(payload) {\r\n  return store.dispatch(Recorder(payload))\r\n}\r\n\r\nexport function Recorder(payload) {\r\n  return {\r\n    type: \"ISRECORD\",\r\n    isRecord: payload,\r\n  }\r\n}\r\n\r\nexport function ClockStartStop(payload) {\r\n  return store.dispatch(Clock(payload))\r\n}\r\n\r\nexport function Clock(payload) {\r\n  return {\r\n    type: \"ISCLOCK\",\r\n    isClock: payload,\r\n  }\r\n}\r\n\r\nexport function RecordingStopped(payload) {\r\n  return store.dispatch(RecordStopped(payload))\r\n}\r\n\r\nexport function RecordStopped(payload) {\r\n  return {\r\n    type: \"ISRECORDSTOPPED\",\r\n    isRecordStopped: payload,\r\n  }\r\n}","import React from 'react';\r\nimport { formatMinutes, formatSeconds } from \"./../../utils/time\";\r\n\r\nexport default function TimeSpinner() {\r\n  return (\r\n    <div className=\"time-spinner\">\r\n      <span>{formatMinutes(0)}</span>\r\n      <span className=\"clock-colon\">:</span>\r\n      <span>{formatSeconds(0)}</span>\r\n    </div>\r\n  )\r\n}","export function formatMinutes(minutes) {\r\n  return minutes < 10 ? `0${minutes}` : minutes;\r\n}\r\n\r\nexport function formatSeconds(seconds) {\r\n  return seconds < 10 ? `0${seconds}` : seconds;\r\n}","import './waves.css';\r\n\r\nexport default function Waves () {\r\n  return (\r\n    <div id='bars'>\r\n      <div className='bar'></div>\r\n      <div className='bar'></div>\r\n      <div className='bar'></div>\r\n      <div className='bar'></div>\r\n      <div className='bar'></div>\r\n      <div className='bar'></div>\r\n      <div className='bar'></div>\r\n      <div className='bar'></div>\r\n      <div className='bar'></div>\r\n      <div className='bar'></div>\r\n    </div>\r\n  );\r\n}","import React, { useContext } from 'react';\r\nimport { RecordStart, RecordStop, RecordUpload } from '../../controllers/recordaudio';\r\nimport TimeSpinner from './../timespinner/index';\r\nimport { UserContext } from './../../providers/index';\r\nimport store from './../../redux/store';\r\nimport Waves from './waves';\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMicrophone, faVideo ,faFileUpload, faStopCircle } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport './index.css';\r\n\r\nexport default function Recorder () {\r\n  const user = useContext(UserContext);\r\n  const { isRecord, isRecordStopped } = store.getState();\r\n\r\n  return (\r\n    <div className=\"recorder\">\r\n      <div className=\"recorder-animation\">\r\n        {isRecord ? <Waves /> : ''}\r\n      </div>\r\n      <div className=\"recorder-timer\">\r\n        <TimeSpinner />\r\n      </div>\r\n      {\r\n        isRecord ? (\r\n          <div className=\"recorder-controllers\">\r\n            <button id=\"stop_record\" className=\"stop-record\" onClick={RecordStop}>\r\n              <FontAwesomeIcon icon={faStopCircle} size=\"2x\" color=\"white\" />\r\n            </button>\r\n          </div>\r\n        )\r\n        :\r\n        (\r\n          <div className=\"recorder-controllers\">\r\n            <button id=\"start_video\" className=\"start-video disable\">\r\n              <FontAwesomeIcon icon={faVideo} size=\"2x\" />\r\n            </button>\r\n            <button id=\"start_record\" className=\"start-record\" onClick={RecordStart}>\r\n              <FontAwesomeIcon icon={faMicrophone} size=\"2x\" color=\"white\" />\r\n            </button>\r\n            {\r\n              user && isRecordStopped && (\r\n                <button id=\"upload_record\" className=\"file-upload\" onClick={RecordUpload}>\r\n                  <FontAwesomeIcon icon={faFileUpload} size=\"2x\" color=\"white\" />\r\n                </button>\r\n              )\r\n            }\r\n          </div>\r\n        )\r\n      }\r\n      { user ? '' : (\r\n        <div className=\"guest-msg\">\r\n          <p>You can check now! Try your self!!!</p>\r\n        </div>\r\n      )}\r\n      <div className=\"recorded-audio\">\r\n\t\t\t  <span id=\"recordPreview\"></span><audio id=\"recordedAudio\" preload=\"true\"></audio>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport firebase from 'firebase';\r\nimport { UserContext } from './../../providers/index';\r\n\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faChevronRight } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nimport './index.css';\r\n\r\nexport default function RecordList () {\r\n  const user = useContext(UserContext);\r\n  const [active, setActive] = useState(-1);\r\n  const [audioFiles, setAudioFiles] = useState([]);\r\n  \r\n  useEffect(() => {\r\n    if (user) {\r\n      const userFolder = user.email.replace(\"@gmail.com\", \"\");\r\n      let storageRef = firebase.storage().ref();\r\n      let temp = [];\r\n      storageRef\r\n      .child(`voices/${userFolder}/`)\r\n      .listAll()\r\n      .then(function(res) {\r\n        res.items.forEach( files => {\r\n          files.getDownloadURL().then(url => {\r\n            const item = {\r\n              source: url,\r\n              format: files.name,\r\n              createdAt: files.name.split('.')[0],\r\n              controls: true,\r\n            };\r\n            temp.push(item);\r\n          });\r\n        });\r\n        setTimeout(() => {\r\n          setAudioFiles(temp);\r\n        }, 2000);\r\n      })\r\n      .catch(function(error) {\r\n        console.log(error);\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  const accordianToggle = (index) => {\r\n    if (index === active) setActive(-1);\r\n    else setActive(index);\r\n  }\r\n\r\n  return (\r\n    <div className=\"records-list\">\r\n      <ul>\r\n        <li\r\n          key={0}\r\n          onClick={() => accordianToggle(0)}\r\n          className={0 === active ? 'active' : ''}\r\n        >\r\n          <div className=\"accordian-title\">\r\n            <FontAwesomeIcon icon={faChevronRight} />\r\n            {user ? (<span>Audio Files:</span>) : (<span className=\"data-loader\"></span>)} \r\n          </div>\r\n          <div className=\"accordian-content\">\r\n            {user ?\r\n              (<ListAudioFiles files={audioFiles}/>)\r\n              :\r\n              (\r\n                <React.Fragment>\r\n                  <div className=\"data-loader data-loader_audio\"></div>\r\n                  <div className=\"data-loader data-loader_audio\"></div>\r\n                </React.Fragment>\r\n              )\r\n            }\r\n          </div>\r\n        </li>\r\n        <li\r\n          key={1}\r\n          onClick={() => accordianToggle(1)}\r\n          className={1 === active ? 'active' : ''}\r\n        >\r\n          <div className=\"accordian-title\">\r\n            <FontAwesomeIcon icon={faChevronRight} />\r\n            {user ? (<span>Video Files:</span>) : (<span className=\"data-loader\"></span>)} \r\n          </div>\r\n          <div className=\"accordian-content\">\r\n            {user ?\r\n              (<p>Not available! In progress feature.</p>)\r\n              :\r\n              (\r\n                <React.Fragment>\r\n                  <div className=\"data-loader data-loader_audio\"></div>\r\n                  <div className=\"data-loader data-loader_audio\"></div>\r\n                </React.Fragment>\r\n              )\r\n            }\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ListAudioFiles = ({ files }) => {\r\n  return files.map((item, index) => {\r\n    return (<div className=\"audioFile-wrapper\" key={index}>\r\n      <audio preload=\"true\" src={item.source} controls={item.controls} />\r\n      <span>{`${new Date(parseInt(item.createdAt)).toLocaleString()}`}</span>\r\n    </div>)\r\n  });\r\n}\r\n","import Recoder from './../recorder/index';\r\nimport RecordList from './../recordlist/index';\r\n\r\nimport './index.css';\r\n\r\nexport default function RecordVoiceView () {\r\n  return (\r\n    <div className=\"container recordvoice-wrapper\">\r\n      <Recoder />\r\n      <RecordList />\r\n    </div>\r\n  );\r\n}","import './index.css';\r\n\r\nexport default function Footer() {\r\n  return (\r\n    <footer>\r\n      <div className=\"container\">\r\n        <p>Build with LOVE <b>Vulchi Vijaya Kumar</b>. RecordVoice &copy; 2021.</p>\r\n      </div>\r\n    </footer>\r\n  )\r\n}","import { connect } from 'react-redux'\r\n\r\nimport Header from './components/header/index';\r\nimport RecordVoiceView from './components/recordvoice/index';\r\nimport Footer from './components/footer/index';\r\n\r\nimport './App.css';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"app-wrapper\">\r\n      <Header />\r\n      <RecordVoiceView />\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {...state}\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    dispatch\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(App)\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport UserProvider from './providers/index';\r\n\r\nimport './index.css';\r\n\r\nimport { Provider } from 'react-redux'\r\nimport store from './redux/store';\r\n\r\n// testing\r\nwindow.store = store;\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <UserProvider>\r\n      <React.StrictMode>\r\n        <App />\r\n      </React.StrictMode>\r\n    </UserProvider>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}